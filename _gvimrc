" ＠＠
" .gvimrc
"---------------------------------------------------------------------------
scriptencoding utf-8

"---------------------------------------------------------------------------
" ウインドウに関する設定:

" ウィンドウの横幅
set columns=180

" ウィンドウの縦幅
set lines=55

" コマンドラインの高さ (GUI使用時)
set cmdheight=2

" ツールバーを非表示にする
set guioptions-=T

"---------------------------------------------------------------------------
" カラー設定:

" カラースキーム
colorscheme evening

" ダーク系のカラースキームを使う
set background=dark

"---------------------------------------------------------------------------
" フォント設定:

"set guifont=MS\ Gothic:h12
"set guifont=Ricty\ Diminished:h12
"set guifont=Ricty_Diminished_for_Powerline:h12
"set guifont=Cascadia_Code_PL:h12
set guifont=Cica:h12

"---------------------------------------------------------------------------
" ターミナル設定:

function! GitBash()
  " 日本語Windowsの場合`ja`が設定されるので、入力ロケールに合わせたUTF-8に設定しなおす
  let l:env = {
    \ 'LANG': systemlist('"C:/Users/watanabe-koei/app/Git/usr/bin/locale.exe" -iU')[0],
    \ }

  " remote連携のための設定
  if has('clientserver')
    call extend(l:env, {
      \ 'GVIM': $VIMRUNTIME,
      \ 'VIM_SERVERNAME': v:servername,
      \ })
  endif

  " term_startでgit for windowsのbashを実行する
  call term_start(['C:/Users/watanabe-koei/app/Git/bin/bash.exe', '-l'], {
    \ 'term_name': 'Git',
    \ 'term_finish': 'close',
    \ 'curwin': v:true,
    \ 'cwd': $USERPROFILE,
    \ 'env': l:env,
    \ })

endfunction

nnoremap <Leader>g :<C-u>call GitBash()<CR>

